\chapter{}

\topic{Modules}

The rest of the course will be devoted to study modules over rings. 
We first start with the main definitions and basic examples.

\begin{definition}
    Let $R$ be a ring. A \textbf{module} (over $R$) is an abelian group
    $M$ with a map $R\times M\to M$, $(x,m)\mapsto x\cdot m$, such that
    the following conditions hold:
    \begin{enumerate}
        \item $(r_1+r_2)\cdot m=r_1\cdot m+r_2\cdot m$ for all $r_1,r_2\in R$ y $m\in M$.
		\item $r\cdot (m_1+m_2)=r\cdot m_1+r\cdot m_2$ for all $r\in R$ y $m_1,m_2\in M$.
		\item $r_1\cdot (r_2\cdot m)=(r_1r_2)\cdot m$ for all $r_1,r_2\in R$ y $m\in M$.
		\item $1\cdot m=m$ for all $m\in M$.	
    \end{enumerate}
\end{definition}

Our definition is that of left module. Similarly one defines right modules. We will always
consider left modules, so they will be referred simply as modules.

\begin{example}
A module over a field is a vector space. 
\end{example}

\begin{example}
Every abelian group is a module over $\Z$.	
\end{example}

\begin{example}
Let $R$ be a ring. Then $R$ is a module (over $R$) with $x\cdot m=xm$. 
This is the \textbf{(left) regular representation} of $R$ and it usually 
be denoted by $\prescript{}{R}R$. 
\end{example}

\begin{example}
If $R$ is a ring, then $R^n=\{(x_1,\dots,x_n):x_1,\dots,x_n\in R\}$ 
is a module (over $R$) with  
$r\cdot (x_1,\dots,x_n)=(rx_1,\dots,rx_n)$. 
\end{example}

\begin{example}
If $R$ is a ring, then $M_{m,n}(R)$ is a module (over $R$) with usual matrix operations. 
\end{example}

Students usually ask why in the definition of a ring homomorphism one needs
the condition $1\mapsto 1$. The following example provides a good explanation. 

\begin{example}
%%\label{exa:f(1)=1}
If $f\colon R\to S$ is a ring homomorphism and $M$ is a module (over $S$) wih 
$(s,m)\mapsto sm$, then 
$M$ is also a module (over $R$) with $r\cdot m=f(r)m$ for all $r\in R$ and $m\in M$. In fact, 
\begin{align*}
&1\cdot m=f(1)m=1m=m,\\
&r_1\cdot (r_2\cdot m)=f(r_1)(r_2\cdot m)=f(r_1)(f(r_2)m)=(f(r_1)f(r_2))m=f(r_1r_2)m
\end{align*}
for all $r_1,r_2\in R$ and $m\in M$.	  	
\end{example}
%
\begin{example}
Let $V$ be a finite-dimensional real vector space and $T\colon V\to V$ be a linear map.  
Let $R=\R[X]$. Then $M=\R^n$ with 
\[
\left(\sum_{i=0}^na_iX^i\right)\cdot v=\sum_{i=0}^na_iT^i(v)
\]	
is module (over $R$).   
\end{example}

\begin{example}
If $\{M_i|i\in I\}$ is a family of modules, then  	
\[
\prod_{i\in I}M_i=\{(m_i)_{i\in I}:m_i\in M_i\text{ for all $i\in I$}\}
\]
is a module with 
$x\cdot (m_i)_{i\in I}=(x\cdot m_i)_{i\in I}$, 
where $(m_i)_{i\in I}$ denotes the map $I\to M_i$, $i\mapsto m_i$.
This module is the \textbf{direct product} of the family $\{M_i:i\in I\}$.
\end{example}
%
\begin{example}
If $\{M_i|i\in I\}$ is family of modules, then   	
\[
\bigoplus_{i\in I}M_i=\{(m_i)_{i\in I}:m_i\in M_i\text{ for all $i\in I$ and $m_i=0$ except finitely many $i\in I$}\}
\]
is a module with 
$x\cdot (m_i)_{i\in I}=(x\cdot m_i)_{i\in I}$. 
This module is the \textbf{direct sum} of the family $\{M_i:i\in I\}$. 
\end{example}
%
%\begin{exercise}
If $M$ is a module, then $0\cdot m=0$ and $-m=(-1)\cdot m$ for all $m\in M$ and 
$x\cdot 0=0$ for all $x\in R$. 
%
\begin{example}
Let $M=\Z/6$ as a module (over $\Z$). Note that 
$3\cdot 2=0$ but $3\ne 0$ (in $\Z$) and $2\ne 0$ (in $\Z/6$).  
\end{example}

\begin{exercise}
	\label{xca:Z4overZ2}
	Prove that $\Z/4$ is not a module over $\Z/2$. 
\end{exercise}

\begin{definition}
	Let $M$ be a module. A subset $N$ of $M$ is a \textbf{submodule} of $M$ if 
	$(N,+)$ is a subgroup of $(M,+)$ and 
	$x\cdot n\in N$ for all $x\in R$ and $n\in N$. 
\end{definition}

Clearly, if $M$ is a module, then $\{0\}$ and $M$ are submodules of $M$. 

\begin{example}
Let $R$ be a field and $M$ be a module over $R$. Then
$N$ is a submodule of $M$ if and only if $N$ is a subspace of $M$. 
\end{example}

\begin{example}
Let $R=\Z$ and $M$ be a module (over $R$). Then
$N$ is a submodule of $M$ if and only if $N$ is a subgroup of $M$
\end{example}

\begin{example}
If $M=\prescript{}{R}R$, then a subset $N\subseteq M$ is a submodule
of $M$ if and only if $N$ is a left ideal of $R$. 
\end{example}

\begin{example}
If $V$ is a vector space and $T\colon V\to V$ is a linear map, then
$V$ is a module (over $\R[X]$) with  
\[
\left(\sum_{i=0}^na_iX^i\right)\cdot v=\sum_{i=0}^na_iT^i(v).
\]
A submodule is a subspace $W$ 
of $V$ such that $T(W)\subseteq W$. 
\end{example}

Clearly, a subset $N$ of $M$ is a submodule if and only 
if $r_1n_1+r_2n_2\in N$ for all
$r_1,r_2\in R$ and $n_1,n_2\in N$. 	

\begin{exercise}
If $N$ and $N_1$ are submodules of $M$, then 
\[
N+N_1=\{n+n_1:n\in N,\,n_1\in N_1\}
\]
is a submodule of $M$.
\end{exercise}

\begin{definition}
Let $M$ and $N$ be modules over $R$. 
A map $f\colon M\to N$ is a \textbf{module homomorphism} if $f(x+y)=f(x)+f(y)$ and 
$f(r\cdot x)=r\cdot f(x)$ for all $x,y\in M$ and $r\in R$. 
\end{definition}

We denote by $\Hom_R(M,N)$ the set of module homomorphisms $M\to N$. 

\begin{exercise}
Let $f\in\Hom_R(M,N)$.  
\begin{enumerate}
\item If $V$ is a submodule of $M$, then $f(V)$ is a submodule of $N$.
\item If $W$ is a submodule of $N$, then $f^{-1}(W)$ is a submodule of $M$.
\end{enumerate}
\end{exercise}

If $f\in\Hom_R(M,N)$, the \textbf{kernel} of $f$ is the submodule  
\[
\ker f=f^{-1}(\{0\})=\{m\in M:f(m)=0\}
\]
of $M$. We say that $f$ is a \textbf{monomorphism} (resp. \textbf{epimorphism}) 
if $f$ is injective (resp. surjective). Moreover, $f$ is an \textbf{isomorphism} 
if $f$ is
bijective. 

\begin{exercise}
Let $f\in\Hom_R(M,N)$. Prove that the following statements are equivalent:
\begin{enumerate}
\item $f$ is a monomorphism.
\item $\ker f=\{0\}$.
\item For every module $V$ and every $g,h\in\Hom_R(V,M)$, $f\circ g=f\circ h\implies g=h$.
\item For every module $V$ and every $g\in\Hom(V,M)$, $f\circ g=0\implies g=0$.
\end{enumerate}
\end{exercise}

Later we will see a similar exercise for surjective module homomorphisms.

\begin{example}
	Let $R=
		\begin{pmatrix}
			\R & 0\\
			0 & \R
		\end{pmatrix}$. 
	We claim that 
	$\begin{pmatrix}
			\R\\
			0
		\end{pmatrix}
		\not\simeq\begin{pmatrix}
			0\\
			\R
		\end{pmatrix}$
	as modules over $R$, where the module structure is given by the usual matrix multiplication. 
	Assume that they are isomorphic. 
	Let $f\colon\begin{pmatrix}
			0\\
			\R
		\end{pmatrix}
		\to\begin{pmatrix}
			\R\\
			0
		\end{pmatrix}$  
	be an isomorphism of modules and let  
	$x_0\in\R\setminus\{0\}$ be such that 
	$f\begin{pmatrix}0\\1\end{pmatrix}=\begin{pmatrix}x_0\\0\end{pmatrix}$. Thus 
	\[
	f\begin{pmatrix}
	0\\
	1\end{pmatrix}
	=f\left(\begin{pmatrix}
	0&0\\
	0&1\end{pmatrix}
	\cdot 
	\begin{pmatrix}
	0\\
	1
	\end{pmatrix}\right)
	=\begin{pmatrix}
	0&0\\
	0&1\end{pmatrix}\cdot f\begin{pmatrix}0\\1\end{pmatrix}
	=\begin{pmatrix}
	0&0\\
	0&1
	\end{pmatrix}
	\cdot 
	\begin{pmatrix}		
	x_0\\
	0
	\end{pmatrix}
	=\begin{pmatrix}
	0\\
	0
	\end{pmatrix},
	\]	
	a contradiction, as $f$ is injective.    
\end{example}

If $N$ and $N_1$ are submodules of $M$, we say that $M$ is the \textbf{direct sum} of $N$ and $N_1$
if $M=N+N_1$ and $N\cap N_1=\{0\}$. In this case, we write $M=N\oplus N_1$. Note that if
$M=N\oplus N_1$, then each $m\in M$ can be written uniquely as $m=n+n_1$ for some
 $n\in N$ and $n_1\in N_1$. 
Such a decomposition exists because $M=N+N_1$. If $m\in M$ can be written as 
$m=n+n_1=n'+n_1'$ for some $n,n'\in N$ and $n_1,n_1'\in N_1$, then 
$-n'+n=n_1'-n_1\in N\cap N_1=\{0\}$ and hence $n=n'$ and $n_1=n_1'$. If $M=N\oplus N_1$, the submodule
$N$ (resp. $N_1$) is a \textbf{direct summand} of $M$ and the submodule $N_1$ (resp $N$) is a \textbf{complement} of $N$ 
in $M$.   	

\begin{example}
If $M=\R^2$ as a vector space, then every subspace of $M$ is a direct summand of $M$.
\end{example}

Clearly, the submodules $\{0\}$ and $M$ are direct summands of $M$.

\begin{example}
If $M=\Z$ as a module over $\Z$, then $m\Z$ is a direct sum of $M$ if and only if 
$m\in\{0,1\}$, as $n\Z\cap m\Z=\{0\}$ if and only if $nm=0$.
\end{example}

\begin{exercise}
\label{xca:projector}
Let $M$ be a module. 
A module $N$ is isomorphic to a direct summand of $M$ if and only if
there are module homomorphisms $i\colon N\to M$ and $p\colon M\to N$ 
such that $p\circ i=\id_N$. In this case, $M=\ker p\oplus i(N)$.  
\end{exercise}

The \textbf{direct sum} of submodules can be defined for finitely many summands. 
If $V_1,\dots,V_n$ are submodules of $M$, we say that $M=V_1\oplus\cdots\oplus V_n$ 
if every $m\in M$ can be written uniquely as $m=v_1+\cdots+v_n$ for some $v_1\in V_1,\dots,v_n\in V_n$. 

\begin{exercise}
Prove that $M=V_1\oplus\cdots\oplus V_n$ if and only if 
$M=V_1+\cdots+V_n$ and 
\[
V_i\cap\left(\sum_{j\ne i}V_j\right)=\{0\}
\]	
for all $i\in\{1,\dots,n\}$.
\end{exercise}

If $\{N_i:i\in I\}$ is a family of submodules of a module $M$, then the intertopic 
$\cap_{i\in I}N_i$ is also a submodule of $M$.

\begin{exercise}
\label{xca:submodules}
Let $T\colon\R^2\to\R^2$ be a linear map and $M=\R^2$ with the module structure 
over $\R[X]$ given by
\[
\left(\sum_{i=0}^n a_iX^i\right)\cdot (x,y)=\sum_{i=0}^n a_iT^i(x,y).
\]
Find the submodules of $M$ in the following cases. 
\begin{enumerate}
    \item $T(x,y)=(0,y)$.
    \item $T(x,y)=(y,x)$.
\end{enumerate}
Prove that 
$\{0\}$, $M$, $\R\times\{0\}$ and $\{0\}\times\R$ 
are the only submodules of $M$.
\end{exercise}

\begin{exercise}
\label{xca:commuting}
Let $V$ be a real vector space and $T\colon V\to V$ be a linear map. Then 
$V$ is a module over $\R[X]$ with  
\[
\left(\sum_{i=0}^n a_iX^i\right)\cdot v=\sum_{i=0}^n a_iT^i(v).
\]
Prove that a module homomorphism $g\colon V\to V$ commutes with $T$. 
% \[
% (g\circ T)(v)=g(T(v))=g(X\cdot v)=X\cdot g(v)=T(g(v))=(T\circ g)(v)
% \]
% para todo $v\in V$.x
\end{exercise}

\begin{exercise}
\label{xca:Hom}
Prove that $\Hom_R(M,N)$ is a module over $Z(R)$. 
\end{exercise}

Let $M$ be a module and $N$ be a submodule of $M$. In particular, $M/N$ is an abelian group
and the map $\pi\colon M\to M/N$, $m\mapsto m+N$, is a surjective group homomorphism with kernel equal to $N$. We claim
that the \textbf{quotient} $M/N$ is a module with  
\[
r\cdot (m+N)=(r\cdot m)+N,\quad
r\in R,\,m\in M. 
\]
Let us check that this operation on $M/N$ is well-defined. If $x+N=y+N$, then
$x-y\in N$ implies that  
\[
r\cdot x-r\cdot y=r\cdot (x-y)\in N,
\]
that is $r\cdot (x+N)=r\cdot (y+N)$. It is an exercise to show that
the map $\pi\colon M\to M/N$, $x\mapsto x+N$, is a 
surjective module homomorphism. 

\begin{example}
If $R=M=\Z$ and $N=2\Z$, then $M/N\simeq\Z/2$. 
\end{example}

\begin{example}
Let $R$ be a commutative ring. We claim that 
\[
M\simeq\Hom_R(\prescript{}{R}R,M).
\]
Since $R$ is commutative, it follows that $\Hom_R(\prescript{}{R}R,M)$ is a module, see Exercise~\ref{xca:Hom}.
Let $\varphi\colon M\to\Hom_R(\prescript{}{R}R,M)$, $m\mapsto f_m$, where $f_m\colon R\to M$, $r\mapsto r\cdot m$. 
To show that $\varphi$ is well-defined it is enough to see that $\varphi(m)\in\Hom_R(\prescript{}{R}R,M)$, that is 
\[
f_m(r+s)=(r+s)\cdot m=r\cdot m+s\cdot m,\quad
f_m(rs)=(rs)\cdot m=r\cdot (s\cdot m)=r\cdot f_m(s).
\]
Let us show that $\varphi$ is a module homomorphism. We first note that 
\[
\varphi(m+n)=\varphi(m)+\varphi(n)
\]
for all $m,n\in M$, as  
\begin{align*}
\varphi(m+n)(r)&=f_{m+n}(r)=r\cdot (m+n)\\
&=r\cdot m+r\cdot n=f_m(r)+f_n(r)=\varphi(m)(r)+\varphi(n)(r).
\end{align*}
Moreover, 
\[
\varphi(r\cdot m)=r\cdot\varphi(m)
\]
for all  
$r\in R$ and $m\in M$, as  
\begin{align*}
\varphi(r\cdot m)(s)&=f_{r\cdot m}(s)
=s\cdot (r\cdot m)
=(sr)\cdot m\\
&=(rs)\cdot m=f_m(rs)=\varphi(m)(rs)=(r\cdot\varphi(m))(s).
\end{align*}
It remains to show that $\varphi$ is bijective. We first prove that
$\varphi$ is injective. If $\varphi(m)=0$, then $r\cdot m=\varphi(m)(r)=0$ for all $r\in R$. In particular, 
$m=1\cdot m=0$. We now prove that $\varphi$ is surjective. If $f\in\Hom_R(\prescript{}{R}R,M)$, 
let $m=f(1)$. Then $\varphi(m)=f$, as
\[
\varphi(m)(r)=r\cdot m=r\cdot f(1)=f(r).
\]
\end{example}

As one does for groups, it is possible to show that if $M$ is a 
module and $N$ is a submodule of $M$, the pair 
$(M/N,\pi\colon M\to M/N)$ has the following properties:
\begin{enumerate}
\item $N\subseteq \ker \pi$.
\item If $f\colon M\to T$ is a homomorphism such that $N\subseteq \ker f$, then there exists a 
unique module homomorphism $\varphi\colon M/N\to T$ such that 
the diagram
\[
\begin{tikzcd}
	M & T \\
	{M/N}
	\arrow["\pi"', from=1-1, to=2-1]
	\arrow["f", from=1-1, to=1-2]
	\arrow["{\varphi }"', dashed, from=2-1, to=1-2]
\end{tikzcd}
\]
is commutative, that is 
$\varphi\circ\pi =f$.  
\end{enumerate}

Recall that if $S$ and $T$ are submodules of a module $M$, then 
both $S\cap T$ and 
\[
S+T=\{s+t:s\in S,\,t\in T\}
\]
are submodules of $M$. 
The \textbf{isomorphism theorems} hold:
\begin{enumerate}
	\item If $f\in\Hom_R(M,N)$, then $M/\ker f\simeq f(M)$.
	\item If $T\subseteq N\subseteq M$ are submodules, then  
	\[
	\frac{M/T}{N/T}\simeq M/N
	\]
	\item If $S$ and $T$ are submodules of $M$, then $(S+T)/S\simeq T/(S\cap T)$. 
\end{enumerate}

\begin{example}
If $K$ is a field and $V$ is a module over $K$, then $V$ is, by definition, a vector space over $K$. 
If $S$ and $T$ are subspaces of $V$, then they are submodules of $V$. 
By the second isomorphism theorem, $(S+T)/T\simeq S/(S\cap T)$ 
as vector spaces. By applying dimension,  
\[
\dim(S+T)-\dim T=\dim(S)-\dim(S\cap T).
\]
\end{example}

\begin{example}
If $N$ is a direct summand of $M$ and $M$ and $X$ is a complement for $N$, then $X\simeq M/N$, as
\[
M/N=(N\oplus X)/N\simeq X/(N\cap X)=X/\{0\}\simeq X
\]
by the second isomorphism theorem. So all complements of $N$ in $M$ are isomorphic. 
\end{example}

It is also possible to prove that there exists a bijective correspondence between
submodules of $M/N$ and submodules of $M$ containing $N$. The correspondence is given by 
$\pi^{-1}(Y)\mapsfrom Y$ and $X\mapsto \pi(X)$. 

\begin{exercise}
Let $f\in\Hom_R(M,N)$. Prove that the following statements are equivalent: 
\begin{enumerate}
\item $f$ is an epimorphism.
\item $N/f(M)\simeq\{0\}$. 
\item For every module $W$ and every $g,h\in\Hom_R(N,T)$, $g\circ f=h\circ f\implies g=h$.
\item For every module $T$ and every $g\in\Hom_R(N,T)$, $g\circ f=0\implies g=0$. 
\end{enumerate}
\end{exercise}

\begin{exercise}
\label{xca:mod_iso_max}
    Let $R$ be a ring and $M_1$ and $M_2$ be maximal ideals of $R$. Prove that
    $R/M_1\simeq R/M_2$ as modules over $R$ if and only if there exists
    $r\in R\setminus M_2$ such that $rM_1\subseteq M_2$. 
\end{exercise}





