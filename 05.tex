\chapter{}

\begin{theorem}[Fermat]
\index{Fermat's theorem}
	Let $p\in\Z_{>0}$ be a prime number. The following statements are equivalent:
	\begin{enumerate}
	    \item $p=2$ or $p\equiv1\bmod 4$.
	    \item There exists $a\in\Z$ such that $a^2\equiv-1\bmod p$.
	    \item $p$ is not irreducible in $\Z[i]$.
	    \item $p=a^2+b^2$ for some $a,b\in\Z$.
	\end{enumerate}
\end{theorem}

\begin{proof}
    We first prove that $1)\implies 2)$. If $p=2$, take $a=1$. If $p=4k+1$ for some $k\in\Z$, then
    by Fermat's little theorem, the polynomial 
    $X^{p-1}-1\in(\Z/p)[X]$ has roots $1,2,\dots,p-1$. Write
    \[
    (X-1)(X-2)\cdots (X-(p-1))=X^{p-1}-1=X^{4k}-1=(X^{2k}+1)(X^{2k}-1)
    \]
    in $(\Z/p)[X]$. Since $p$ is prime, $\Z/p$ is a field and hence 
    $(\Z/p)[X]$ is a unique factorization domain (because it is euclidean). Thus 
    there exists $\alpha\in\Z/p$ such that $\alpha^{2k}+1=0$. To finish the proof
    take $a=\alpha^k$. 
    
    We now prove that $2)\implies 3)$. If $a^2\equiv-1\bmod p$, then $a^2+1=kp$ 
    for some $k\in\Z$. Since $(a-i)(a+i)=a^2+1=kp$, then $p$ divides $(a-i)(a+i)$. Let us prove that $p$ is not prime in $\Z[i]$. 
    We claim that $p$ does not divide $a-i$ in $\Z[i]$. Indeed, if $p\mid a-i$, then
    $a-i=p(e+fi)$ for some $e,f\in\Z$ and this implies that $1=pf$, a contradiction. Similarly,
    $p$ does not divide $a+i$. Thus $p$ is not prime in $\Z[i]$ 
    and hence it is not irreducible in $\Z[i]$ (because in $\Z[i]$ primes and irreducible coincide). 
    
    We now prove that $3)\implies 4)$. If $p=(a+bi)(c+di)$ with $a+bi\not\in\mathcal{U}(\Z[i])$
    and  $c+di\not\in\mathcal{U}(\Z[i])$, then
    \[
    p^2=N(p)=N(a+bi)N(c+di)=(a^2+b^2)(c^2+d^2)
    \]
    in $\Z$. Since $\Z$ has unique factorization, it follows that $p=a^2+b^2$. 
    
    Finally we prove that $4)\implies 1)$. 
    The only possible remainders after division by four are $0,1,2$ and $3$.  
    For all $a$, either $a^2\equiv 0\bmod 4$ or $a^2\equiv 1\bmod 4$. 
    If $p\equiv3\bmod 4$, then $p$ is never a sum of two squares, as 
    $a^2+b^2\equiv 0\bmod 4$, $a^2+b^2\equiv 1\bmod 4$ or $a^2+b^2\equiv 2\bmod 4$. 
\end{proof}

\begin{exercise}
\label{xca:Z[i]irreducibles}
Find the irreducible elements of $\Z[i]$. 
\end{exercise}


\topic{Zorn's lemma}

\begin{definition}
A non-empty set $R$ is said to be a \textbf{partially ordered set} (or poset, for short) 
if there is a subset $X\subseteq R\times R$ such that
\begin{enumerate}
    \item $(r,r)\in X$ for all $r\in R$, 
    \item if $(r,s)\in X$ and $(s,t)\in X$, then $(r,t)\in X$, and 
    \item if $(r,s)\in X$ and $(s,r)\in X$, then $r=s$. 
\end{enumerate}
\end{definition}

The set $X$ is a partial order relation on $R$.  
We will use the following notation: $(r,s)\in X$ if and only if $r\leq s$. Moreover, 
$r<s$ if and only if $r\leq s$ and $r\ne s$. 

\begin{definition}
Let $R$ be a poset and $r,s\in R$. Then $r$ and $s$ are \textbf{comparable}
if either $r<s$ or $s<r$.
\end{definition}

\begin{example}
    Let $U=\{1,2,3,4,5\}$ and $T$ be the set of subsets of $U$. Then $T$ is a poset
    with the usual inclusion, that is $C\leq D$ if and only if $C\subseteq D$. The subsets
    $\{1,2\}$ and $\{3,4\}$ of $U$ are elements of $T$ that are not comparable. 
\end{example}

\begin{definition}
    Let $R$ be a poset and $r\in R$. Then $r$ is \textbf{maximal} in $R$ if 
    $r\leq t$ implies $r=t$. 
\end{definition}

\begin{example}
    $\Z$ has no maximal elements. 
\end{example}

\begin{example}
Let $R=\{(x,y)\in\R^2:y\leq0\}$ with $(x_1,y_1)\leq(x_2,y_2)$ if and only if $x_1=x_2$ and $y_1\leq y_2$. Then
$R$ is a poset and each $(x,0)$ is maximal. Thus $R$ has infinitely many maximal elements.
\end{example}

\begin{definition}
    Let $R$ be a poset and $S$ be a non-empty subset of $R$. An \textbf{upper bound}
    for $S$ is an element $u\in R$ such that $s\leq u$ for all $s\in S$. 
\end{definition}

\begin{example}
    Let $S=\{6\Z,12\Z,24\Z\}$ be a subset of the set of subgroups of $\Z$ partially ordered by 
    the inclusion. Then 
    $6\Z=6\Z\cup 12\Z\cup 24\Z$ is an upper bound of the subset~$S$. 
\end{example}

\begin{definition}
    Let $R$ be a poset. A \textbf{chain} is a non-empty subset $S$ of $R$ such that
    any two elements of $S$ are comparable. 
\end{definition}

We now state Zorn's lemma:

\begin{quote}
\index{Zorn's lemma}
Let $R$ be a poset such that 
every chain in $R$ admits an upper bound in $R$. 
Then $R$ contains a maximal element. 
\end{quote}

It is not intuitive, but it is logically equivalent to a more 
intuitively statement in set theory, the Axiom of Choice, 
which says every Cartesian product of non-empty sets is non-empty. 
It is more an axiom than a lemma. 
The reason for calling Zorn’s lemma a lemma rather 
than an axiom is purely historical.

\begin{definition}
	\index{Ideal!maximal}
	Let $R$ be a ring. An ideal $I$ of $R$ is said to be \textbf{maximal}
	if $I\ne R$ and if $J$ is an ideal of $R$ such that $I\subseteq J$, then 
	either $I=J$ or $J=R$. 
\end{definition}

If $p$ is a prime number, then $p\Z$ is a maximal ideal of $\Z$.

\begin{exercise}
Let $R$ be a commutative ring. Prove that $R$ is a 
field if and only if $\{0\}$ is a maximal ideal of $R$. 	
\end{exercise}

\begin{exercise}
Let $R$ be a commutative ring and $I$ be an ideal of $R$. Prove that $I$ is maximal
if and only if $R/I$ is a field.  	
\end{exercise}

The following application of Zorn's lemma uses 
the identity of a ring. 

\begin{theorem}[Krull]
\index{Krull's theorem}
	Let $R$ be a ring. Each proper ideal $I$ of $R$ 
	is contained in a maximal ideal. 
	In particular, all rings have maximal ideals. 	
\end{theorem}

\begin{proof}
	Let $X=\{J:J\text{ is an ideal of $R$ such that }I\subseteq J\subsetneq R\}$.
	Since $I\in X$, it follows that $X$ is non-empty. Moreover, $X$ is a poset
	with respect to the inclusion. If $C$ is a chain in $X$ (say for example
	an increasing sequence
	\[
	I_1\subseteq I_2\subseteq\cdots
	\]
	of proper ideals of $R$ containing $I$), then 
	$\cup_{J\in C}J$ is an upper bound for $C$, as $\cup_{J\in C}J$ is an ideal and
	$\cup_{J\in C}J\ne R$ because $1\not\in\cup_{J\in C}J$. 	Zorn's lemma implies that
	there exists a maximal element $M\in X$. We claim that $M$ is a maximal ideal of $R$. The definition
	of $X$ implies that $M$ is a proper ideal of $R$ that contains $I$. If $M_1$ is a proper ideal of $R$
	such that $M\subseteq M_1$, it follows that $I\subseteq M_1$ and hence $M_1\in X$. The maximality
	of $M$ implies that $M=M_1$.  
\end{proof}

In the proof of previous theorem it is crucial to consider rings with 
identity. 

\begin{exercise}
	Compute the maximal ideals of $\R[X]$ and $\C[X]$. 	
\end{exercise}

One can also compute the maximal ideals of $K[X]$ for any field $K$. 

\begin{exercise}
	Let $R$ be a principal domain and $p\in R\setminus\{0\}$. Then $p$ is irreducible 
	if and only if $(p)$ is maximal.	
\end{exercise}

\begin{example}
	The ideal $(X^2+2X+2)$ is maximal in $\Q[X]$ because
	\[
	X^2+2X+2=(X+1)^2+1
	\]
	has degree two and no rational roots. 
	Hence $X^2+2X+2$ is irreducible in $\Q[X]$ and it generates 
	a maximal ideal. 	
\end{example}

% \begin{exercise}
% 	Let $R$ be a commutative ring and $I$ be an ideal of $R$. Then 
% 	$I$ is maximal if and only if $R/I$ is a field. 
% \end{exercise}

\begin{example}
	Let $R=(\Z/2)[X]$ and $f(X)=X^2+X+1$. Since $f(X)$ is irreducible (because $\deg f(X)=2$ and
	$f(X)$ has no roots in $\Z/2$, it follows that $(f(X))$ is a maximal ideal. 
	Thus $R/I$ is a field. 
\end{example}

\begin{exercise}
	Compute the maximal ideals of $\Z/n$. 	
\end{exercise}

\begin{exercise}
\label{xca:Jacobson}
\index{Jacobson's radical}
	Let $R$ be a commutative ring and $J(R)$ be the intersection of all maximal ideals 
	of $R$. Prove that $x\in J(R)$ 
	if and only if $1-xy\in\mathcal{U}(R)$ for all $y\in R$. The ideal $J(R)$ is proper
	and it is known
	as the \textbf{Jacobson's radical} of $R$.  	
\end{exercise}

We conclude the lecture with a different application of Zorn's lemma.  

\begin{exercise}
	Prove that every non-zero vector space has a basis.
\end{exercise}

The previous exercise can be used to solve the following exercises:

\begin{exercise}
\label{xca:extend}
    Every linearly independent subset of a non-zero vector space
    $V$ can be extended to a basis of $V$.
\end{exercise} 

Hint: If $X$ is a linearly independent set, a basis 
of $V$ that contains $X$ will be found as a maximal linearly independent set 
containing $X$. 

\begin{exercise}
    Let $V$ be a vector space. Prove that every subspace $U$ of $V$ is a direct summand of $V$, that is
    $V=U\oplus W$ for some subspace $W$ of $V$. 
\end{exercise}

\begin{exercise}
    Prove that every spanning set of a non-zero vector space
    contains a basis. 
\end{exercise}

\begin{exercise}
\label{xca:fx=cx}
    Prove that there exists a group homomorphism $f\colon\R\to\R$ that 
    is not of the form $f(x)=\lambda x$ for some $\lambda\in\R$. 
\end{exercise}


\begin{exercise}
\label{xca:Rn=R}
    Prove that the abelian groups $\R^n$ and $\R$ are isomorphic.
\end{exercise}

\begin{exercise}
\label{xca:aut}
    Prove that if $G$ is a group such that $|G|>2$, then $|\Aut(G)|>1$.
\end{exercise}

\topic{The characteristic of a ring}

\begin{definition}
Let $R$ be a ring. If there is a least positive integer $n$ such that 
$nx=0$ for all $x\in R$, then $R$ has \textbf{characteristic} $n$, i.e. $\ch R=n$. If no such $n$ exists, 
then $R$ is of characteristic zero. 
\end{definition}

Easy examples: $\ch\Z=0$ and $\ch\Z/n=n$.

\begin{proposition}
    Let $R$ be a ring such that $\ch R=n>0$,
    \begin{enumerate}
        \item The map $f\colon \Z\to R$, $m\mapsto m1$, is a ring homomorphism and $\ker f=n\Z$.  
        \item $n=\min\{k\in\Z_{>0}:k1=0\}$.
        \item If $R$ is a domain, then $n$ is a prime number.
    \end{enumerate}
\end{proposition}

\begin{proof}
    We leave 1) as an exercise. 
    
    Let us prove 2). Let $n_1=\min\{k\in\Z_{>0}:k1=0\}$. Clearly 
    $n\geq n_1$. For $x\in R$,
    $n_1x=n_1(1x)=(n_11)x=0x=0$ 
    and hence $n_1\geq n$. 
    
    Finally we prove 3). If $n$ is not prime, say
    $n=rs$ with $1<r,s<n$. Then 
    \[
    0=n1=(rs)1=(r1)(s1)
    \]
    and hence $r1=0$ or $s1=0$, a contradiction. 
\end{proof}

\begin{exercise}
\label{xca:freshman_dream}
\index{Freshman's dream}
    Let $R$ be a commutative ring of prime characteristic $p$. 
    \begin{enumerate}
        \item If $x,y\in R$, then $(x+y)^{p^n}=x^{p^n}+y^{p^n}$ for all $n\geq0$. 
        \item The map $R\to R$, $x\mapsto x^{p^n}$, is a ring homomorphism for all $n\geq0$.
    \end{enumerate}
\end{exercise}

Hint: Use induction on $n$ and the fact that the prime number $p$ divides 
$\binom{p}{k}$ for all $k\in\{1,2,\dots,p-1\}$. Alternatively, one could use
that the prime number $p$ divides $\binom{p^n}{k}$ for all 
$k\in\{1,2,\dots,p^n-1\}$. 


\topic{Group algebras}

We now discuss an important family of examples. 
Fix a field $K$. 
For a finite group $G$ let $K[G]$ be the vector space (over $K$)
with basis $\{g:g\in G\}$. Then $K[G]$ is a ring
with
\[
\left(\sum_{g\in G}\lambda_gg\right)\left(\sum_{h\in G}\mu_hh\right)
=\sum_{g,h\in G}\lambda_g\mu_h(gh).
\] 

Thus $K[G]$ is a ring and also a vector space (over $K$) and these structures
are somewhat compatible. Note that
\[
(\lambda a+\mu b)c=\lambda (ac)+\mu (bc),\quad
a(\lambda b+\mu c)=\lambda (ab)+\mu (ac)
\]
for all $\lambda,\mu\in K$ and $a,b,c\in K[G]$. 

\begin{definition}
\index{Algebra}
Let $A$ be a ring. Then $A$ is an algebra (over the field $K$) if $A$ is a vector space (over $K$)
such that $\lambda(ab)=(\lambda a)b=a(\lambda b)$ for all $\lambda\in K$ and $a,b\in A$. 
\end{definition}

Other examples of algebras are 
polynomial rings $K[X]$ and $K[X,Y]$ and matrix rings $M_n(K)$.  

\begin{example}
	If $A$ is an algebra, then $M_n(A)$ is an algebra.	
\end{example}

The ring $K[G]$ is commutative if and only if $G$ is abelian. Moreover,
$K[G]$ is a vector space of dimension $\dim K[G]=|G|$.

\begin{example}
	Let $G=\langle g:g^3=1\rangle=\{1,g,g^2\}\simeq C_3$ be the cyclic group of order three. 
	If $\alpha=a_11+_2g+a_3g^2$ and $\beta=b_11+b_2g+b_3g^2$, then
	\[
		\alpha\beta=(a_1b_1+a_2b_3+a_3b_2)1+(a_1b_2+a_2b_1+a_3b_3)g+a_1b_3+a_2b_2+a_3b_1)g^2.
	\]
	One can check that $\C[G]\simeq\C[X]/(X^3-1)$. 
\end{example}

In general, one proves that the group algebra of $C_n$, the cyclic group of order $n\geq2$, 
is isomorphic to $\C[X]/(X^n-1)$.

\begin{exercise}
\label{xca:RC3}
	Prove that $\R[C_3]\simeq\R\times\C$. 	
\end{exercise}

\begin{exercise}
	Let $G=\{1,g\}\simeq C_2$ be the cyclic group of order two. The product
	of $\C[G]$ is 
	\[
	(a1+bg)(c1+gd)=(ac+bd)1+(ad+bc)g.
	\]
	Prove that the map $\C[G]\to \C\times \C$, $a1+bg\mapsto (a+b,a-b)$, 
	is a linear isomorphism of rings. 
\end{exercise}

\begin{exercise}
	Let $K=\Z/2$ and $G=\{1,g\}\simeq C_2$ be the cyclic group of order two. 
	Prove that the map $K[G]\to\begin{pmatrix}
		K&K\\
		0&K
	\end{pmatrix}$, $a1+bg\mapsto\begin{pmatrix}
		a+b&b\\
		0&a+b		
	\end{pmatrix}$, is a linear isomorphism of rings.
\end{exercise}

The group ring has the following property, which is left as an exercise. 
Let $A$ be an algebra and
$G$ be a finite group. If $f\colon G\to\mathcal{U}(A)$ is a group homomorphism, 
then there exists a unique algebra homomorphism $\varphi\colon K[G]\to A$ such that
$\varphi|_G=f$. 

\begin{example}
	Let $\D_3=\langle r,s:r^3=s^2=1,\,srs^{-1}=r^{-1}\rangle$ be the dihedral
	group of six elements. We claim that 
	\[
	\C[\D_3]\simeq\C\times\C\times M_2(\C).
	\]
	Let $\omega$ be a primitive root of one. Let 
	\[
	R=\begin{pmatrix}
		\omega&0\\
		0&\omega^2	
	\end{pmatrix},
	\quad
	S=\begin{pmatrix}
		0&1\\
		1&0
	\end{pmatrix}.
 	\]
 	One easily checks that $SRS^{-1}=R^{-1}$ and $R^3=S^2=\begin{pmatrix}
		1&0\\
		0&1	
	\end{pmatrix}$. It follows that there exists a group homomorphism
	$G\to\C\times\C\times M_2(\C)$ such that
	$r\mapsto (1,1,R)$ and $s\mapsto (1,-1,S)$. This group homomorphism
	is a ring isomorphism.  
\end{example}




 