\chapter{}

Recall that, by convention, we only consider complex 
finite-dimensional representations of finite groups.

\begin{theorem}[Maschke]
\index{Maschke theorem}
    Every representation of a finite group is completely reducible.
\end{theorem}

\begin{proof}
    Let $G$ be a finite group and $\rho\colon G\to\GL(V)$ be a representation of $G$. We proceed
    by induction on $\dim V$.
    If $\dim V=1$, the result is trivial, as degree-one representations are irreducible. Assume that
    the result holds for representations of degree $\leq n$. Suppose that $\rho$ has degree $n+1$. 
    If $\rho$ is irreducible, we are done. If not, write $V=S\oplus T$, where $S$ and $T$
    are non-zero invariant subspaces of $V$. Since $\dim S<\dim V$ and $\dim T<\dim V$, it follows from
    the inductive hypothesis that
    both $S$ and $T$ are spaces of completely reducible representations. 
    Thus $\rho$ is completely reducible.
\end{proof}

\begin{example}
    Let $G=\Sym_3$ and $\rho\colon G\to\GL_3(\C)$ be the representation given by
    \[
    (12)\mapsto\begin{pmatrix}
    0&1&0\\
    1&0&0\\
    0&0&1
    \end{pmatrix},\quad
    (123)\mapsto\begin{pmatrix}
    0&0&1\\
    1&0&0\\
    0&1&0
    \end{pmatrix}
    \]
    Then $\rho_g$ is unitary for all $g\in G$ (because $\rho_{(12)}$ and $\rho_{(123)}$ are both
    unitary). Moreover,
    \[
    S=\left\langle \begin{pmatrix}
    1\\1\\1
    \end{pmatrix}
    \right\rangle,
    \quad
    T=S^{\perp}=\left\langle
    \begin{pmatrix}
    -1\\1\\0
    \end{pmatrix},
    \begin{pmatrix}
    0\\-1\\1
    \end{pmatrix}
    \right\rangle,
    \]
    are irreducible invariant subspaces of $V=\C^3$. A direct calculation shows that
    in the orthogonal basis $\left\{\begin{pmatrix}
    1\\1\\1
    \end{pmatrix},
    \begin{pmatrix}
    -1\\1\\0
    \end{pmatrix},
    \begin{pmatrix}
    0\\-1\\1
    \end{pmatrix}
    \right\}$
    the matrices $\rho_{(12)}$ and $\rho_{(123)}$ can be written as
    \[
    \rho_{(12)}=\begin{pmatrix}
        1&0&0\\
        0&-1&1\\
        0&0&1
    \end{pmatrix},
    \quad
    \rho_{(123)}=
    \begin{pmatrix}
        1&0&0\\
        0&0&-1\\
        0&1&-1
    \end{pmatrix}.
    \]
\end{example}

\begin{exercise}
Let $G$ be a finite group.
Prove that there is a bijection between degree-one representations of $G$ and
degree-one representations of $G/[G,G]$.
\end{exercise}

\begin{lemma}[Schur]
    Let $\rho\colon G\to\GL(V)$ and $\psi\colon G\to\GL(W)$ be irreducible representations. If 
    $T\colon V\to W$ is a non-zero invariant map, then $T$ is bijective.  
\end{lemma}

\begin{proof}
    Since $T$ is non-zero and $\ker T$ is an invariant subspace of $V$, it follows that $\ker T=\{0\}$, as $\rho$ is irreducible. Thus 
    $T$ is injective. Since $T(V)$ is a non-zero invariant subspace of $W$, it follows from the fact that $\psi$ is irreducible 
    that $T$ is surjective. Therefore $T$ 
    is bijective.  
\end{proof}

Two applications:

\begin{proposition}
    If $\rho\colon G\to\GL(V)$ is an irreducible representation and $T\colon V\to V$ is invariant, then 
    $T=\lambda\id$ for some $\lambda\in\C$. 
\end{proposition}

\begin{proof}
    Let $\lambda$ be an eigenvector of $T$. Then $T-\lambda\id$ is invariant and it is 
    not bijective. Thus $T-\lambda\id=0$ by Schur's lemma.
\end{proof}

\begin{proposition}
    Let $G$ be a finite abelian group. If $\rho\colon G\to\GL(V)$ is an irreducible representation, then
    $\dim V=1$. 
\end{proposition}

\begin{proof}
    Let $h\in G$. Note that since $G$ is abelian, $T=\rho_h$ is invariant:
    \[
    T\rho_g=\rho_h\rho_g=\rho_{hg}=\rho_{gh}=\rho_g\rho_h=\rho_gT.
    \]
    By Schur's lemma, there exists $\lambda_h\in\C$ such that $\rho_h=\lambda_h\id$. If $v\in V\setminus\{0\}$, 
    then $V=\langle v\rangle$, as $\rho$ is irreducible. 
\end{proof}

\topic{Characters}

This lecture is devoted to study character theory. We prove
the first Schur orthogonality relation and present 
several applications.

\begin{definition}
	\index{Character}
	Let $\rho\colon G\to\GL(V)$ be a representation. The \textbf{character} of $\rho$ 
	is the map $\chi_\rho\colon G\to\C$, $g\mapsto\trace\rho_g$. 	
\end{definition}

If a representation $\rho$ is irreducible, its character is said to be an 
\textbf{irreducible character}. The \textbf{degree} of a character is the degree of the affording
representation. 

\begin{proposition}
	Let $\rho\colon G\to\GL(V)$ be a representation, $\chi$ be its character and $g\in G$.
	The following statements hold:
	\begin{enumerate}
		\item $\chi(1)=\dim V$. 
		\item $\chi(g)=\chi(hgh^{-1})$ for all $h\in G$.
		\item $\chi(g)$ is the sum of $\chi(1)$ roots of one of order $|g|$. 
		\item $\chi(g^{-1})=\overline{\chi(g)}$. 
		\item $|\chi(g)|\leq\chi(1)$.  
	\end{enumerate} 
\end{proposition}

\begin{proof}
	The first statement is trivial. 	To prove 2) note that
	\[
	\chi(hgh^{-1})=\trace(\rho_{hgh^{-1}})=\trace(\rho_h\rho_g\rho_h^{-1})=\trace\rho_g=\chi(g).
	\]
	Statement 3) follows from the fact that the trace of $\rho_g$ is the sum
	of the eigenvalues of $\rho_g$ and these numbers are roots of the polynomial
	$X^{|g|}-1\in\C[X]$. To prove 4) write $\chi(g)=\lambda_1+\cdots+\lambda_k$, where 
	the $\lambda_j$ are roots of one. Then
	\[
	\overline{\chi(g)}=\sum^k_{j=1}\overline{\lambda_j}
	=\sum_{j=1}^k\lambda_j^{-1}
	=\trace(\rho_g^{-1})
	=\trace(\rho_{g^{-1}})
	=\chi(g^{-1}).
	\] 
	Finally, we prove 5). Use 3) to write $\chi(g)$ as the sum of
	$\chi(1)$ roots of one, say $\chi(g)=\lambda_1+\cdots+\lambda_k$ for
	$k=\chi(1)$. Then 
	\[
	|\chi(g)|=|\lambda_1+\cdots+\lambda_k|\leq |\lambda_1|+\cdots+|\lambda_k|
	=\underbrace{1+\cdots+1}_{\text{$k$-times}}=k.
	\]
\end{proof}

If two representations are equivalent, their characters are equal.

\begin{definition}
	Let $G$ be a group and 
	$f\colon G\to\C$ be a map. Then $f$ is a \textbf{class function} if
	$f(g)=f(hgh^{-1})$ for all $g,h\in G$. 	
\end{definition}

Characters are class functions. 

\begin{proposition}
    If $\rho\colon G\to\GL(V)$ and
    $\psi\colon G\to\GL(W)$ are representations, then
    $\chi_{\rho\oplus\psi}=\chi_\rho+\chi_\psi$.
\end{proposition}

\begin{proof}
  For $g\in G$, it follows that 
  $(\rho\oplus\psi)_g=
  \begin{pmatrix}
    \rho_g & 0\\ 
    0 & \psi_g
  \end{pmatrix}$. 
  Thus  
  \[
    \chi_{\rho\oplus\psi}(g)=\trace((\rho\oplus\phi)_g)=\trace(\rho_g)+\trace(\psi_g)=\chi_\rho(g)+\chi_\psi(g).\qedhere
  \]
\end{proof}

Let $V$ be a vector space with basis $\{v_1,\dots,v_k\}$ and 
$W$ be a vector space with basis $\{w_1,\dots,w_l\}$. A 
\textbf{tensor product} of $V$ and $W$ is a vector space $X$ with 
together with a bilinear map 
\[
V\times W\to X,
\quad
(v,w)\mapsto v\otimes w,
\]
such that $\{v_i\otimes w_j:1\leq i\leq k,\,1\leq j\leq l\}$ is a  
basis of $X$. The tensor product of $V$ and $W$ is unique up to isomorphism 
and it is denoted by $V\otimes W$. Note that
\[
\dim(V\otimes W)=(\dim V)(\dim W).
\]

\begin{definition}
	Let $\rho\colon G\to\GL(V)$ and $\psi\colon G\to\GL(W)$ be representations. The \textbf{tensor product} of $\rho$ and $\psi$ is the representation of $G$ given by 
	\begin{gather*}
	\rho\otimes\psi\colon G\to\GL(V\otimes W),
	\quad 
	g\mapsto (\rho\otimes\psi)_g,
	\shortintertext{where}
	(\rho\otimes\psi)_g(v\otimes w)=\rho_g(v)\otimes \psi_g(w)
	\end{gather*}
	for $v\in V$ and $w\in W$.  	
\end{definition}

A direct calculation shows that the tensor product of representations is indeed a representation. 

\begin{proposition}
  	If $\rho\colon G\to\GL(V)$ and
    $\psi\colon G\to\GL(W)$ are representations, then
    \[
    \chi_{\rho\otimes\psi}=\chi_\rho\chi_\psi.
    \]
\end{proposition}

\begin{proof}
	For each $g\in G$ the map $\rho_g$ is diagonalizable. Let $\{v_1,\dots,v_n\}$
	be a basis of eigenvectors of $\phi_g$ and let $\lambda_1,\dots,\lambda_n\in\C$ be such that
	$\rho_g(v_i)=\lambda_iv_i$ for all $i\in\{1,\dots,n\}$. Similarly, 
	let $\{w_1,\dots,w_m\}$ be a basis of 
	eigenvectors of $\psi_g$ and $\mu_1,\dots,\mu_m\in\C$ be such that $\psi_g(w_j)=\mu_jw_j$ for all $j\in\{1,\dots,m\}$. Each 
	$v_i\otimes w_j$ is eigenvector of $\phi\otimes\psi$ with eigenvalue 
	$\lambda_i\mu_j$, as  
	\[
		(\rho\otimes\psi)_g(v_i\otimes w_j)=\rho_gv_i\otimes \psi_gw_j=\lambda_iv_i\otimes \mu_jv_j=(\lambda_i\mu_j)v_i\otimes w_j.
	\]
	Thus  
	$\{v_i\otimes w_j:1\leq i\leq n,1\leq j\leq m\}$ is a basis of eigenvectors and the 
	$\lambda_i\mu_j$ are the eigenvalues of $(\phi\otimes\psi)_g$. It follows that 
	\[
	\chi_{\rho\otimes\psi}(g)
	=\sum_{i,j}\lambda_i\mu_j
	=\left(\sum_i\lambda_i\right)\left(\sum_j\mu_j\right)
	=\chi_\rho(g)\chi_\psi(g).\qedhere 
	\]
\end{proof}

For completeness we mention without proof that
it is also possible to define the dual $\rho^*\colon G\to\GL(V^*)$  
of a representation
$\rho\colon G\to\GL(V)$ by the formula
\[
(\rho^*_gf)(v)=f(\rho^{-1}_gv),\quad
g\in G,\,f\in V^*\text{ and }v\in V.
\]  
We claim that the character of the dual representation is then 
$\overline{\chi_\rho}$. Let $\{v_1,\dots,v_n\}$ be a basis of $V$
and $\lambda_1,\dots,\lambda_n\in\C$ be such that $\rho_gv_i=\lambda_iv_i$ for all $i\in\{1,\dots,n\}$. If $\{f_1,\dots,f_n\}$ is the dual basis of $\{v_1,\dots,v_n\}$, then 
\[
(\rho^*_gf_i)(v_j)=f_i(\rho_g^{-1}v_j)
=\overline{\lambda_j}f_i(v_j)
=\overline{\lambda_j}\delta_{ij}
\]
and the claim follows. 
%\begin{proposition}
%	
%\end{proposition}
%
%\begin{proof}
%	Let $g\in G$ and $\{v_1,\dots,v_n\}$
%	be a basis of eigenvectors of $\rho_g$. Let
%	$\lambda_1,\dots,\lambda_n\in\C$ be such that $\rho_g(v_i)=\lambda_iv_i$ for all
%	$i\in\{1,\dots,n\}$. Let $\{f_1,\dots,f_n\}$ be the dual basis of $\{v_1,\dots,v_n\}$.
%	Since $\rho_g$ is invertible, each eigenvector of $\rho_g$ is non-zero. 
%	Thus $\rho_g(v_i)=\lambda_iv_i$ implies that 
%	$\rho_{g^{-1}}v_i=\lambda_i^{-1}v_i=\overline{\lambda_i}v_i$... 
%%	Now 
%%	\[
%		(\rho_g f_i)(v_j)=f_i(g^{-1}v_j)=\overline{\lambda_j}f_i(v_j)=\overline{\lambda_j}\delta_{ij}.
%	\]
%	
%	  
%	
%	 We claim
%	that $\{f_1,\dots,f_n\}$ is a basis of eigenvectors...
%	with $\overline{\lambda_1},\dots,\overline{\lambda_n}$. En efecto, si $gv_j=\lambda_jv_j$, entonces
%	$g^{-1}v_j=\lambda_j^{-1}v_j=\overline{\lambda_j}v_j$ (observemos que como $\phi_g$ es inversible, los $\lambda_j$ son no nulos). Luego
%	\[
%		(gf_i)(v_j)=f_i(g^{-1}v_j)=\overline{\lambda_j}f_i(v_j)=\overline{\lambda_j}\delta_{ij}.
%	\]
%	En conclusiÃ³n
%	\[
%		\chi_{V^*}(g)=\sum_{i=1}^n\overline{\lambda_i}=\overline{\chi_V(g)}.\qedhere
%	\]	
%\end{proof}

Let $\rho\colon G\to\GL(V)$ and $\psi\colon G\to\GL(W)$ be representations of a finite group
$G$. Since $V$ and $W$ are vector spaces, the set 
\[
\Hom(V,W)=\{T\colon V\to W:\text{$T$ is linear}\}
\]
is a vector space with 
\begin{align*}
&(\lambda T)(v)=\lambda T(v) && \text{for all $\lambda\in\C$ and all $v\in V$,}\\ 
&(T+T_1)(v)=T(v)+T_1(v) &&\text{for all $v\in V$.}
\end{align*}
We claim that the set $\Hom_G(V,W)$ of invariant maps
is a subspace of $\Hom(V,W)$. Indeed, the zero map is clearly invariant. If $T,T_1\in\Hom_G(V,W)$ 
and $\lambda\in\C$, then
\[
(T+\lambda T_1)(\rho_g v)
=T(\rho_gv)+\lambda T_1(\rho_gv)
=\psi_gT(v)+\lambda \psi_gT_1(v)
=\psi_g((T+\lambda T_1)(v))
\]
for all $v\in V$. 
 
\begin{proposition}
	Let $\rho\colon G\to\GL(V)$ and $\psi\colon G\to\GL(W)$ be representations
	and $T\colon V\to W$ be a linear map. Then
	\[
	T^{\#}=\frac{1}{|G|}\sum_{g\in G}\psi_{g^{-1}}T\rho_g\in\Hom_G(V,W).
	\]
	Moreover, the map $\Hom(V,W)\to\Hom_G(V,W)$, $T\mapsto T^{\#}$, is linear and surjective.  
\end{proposition}

\begin{proof}
  Let $h\in G$ and $v\in V$. Then 
  \begin{align*}
	T^{\#}\phi_h(v)
	&=\frac{1}{|G|}\sum_{g\in G}\psi_{g^{-1}}T\phi_g\phi_h(v)
	=\frac{1}{|G|}\sum_{g\in G}\psi_{g^{-1}}T\phi_{gh}(v)\\
	&=\frac{1}{|G|}\sum_{x\in G}\psi_{hx^{-1}}T\phi_x(v)
	=\frac{1}{|G|}\sum_{x\in G}\psi_h\psi_{x^{-1}}T\phi_x(v)
	=\psi_hT^{\#}(v).
      \end{align*}

	  If $T\in\Hom_{\C[G]}(V,V)$, then 
      \[
	T^{\#}(v)=\frac{1}{|G|}\sum_{g\in G}\psi_{g^{-1}}T\phi_g(v)
	=\frac{1}{|G|}\sum_{g\in G}\psi_{g^{-1}}\psi_gT(v)
	=T(v)
      \]
      for all $v\in V$.
\end{proof}

If $\phi\colon G\to\GL(V)$ and $\psi\colon
	G\to\GL(W)$ are non-equivalent irreducible representations and $T\colon
	V\to W$ is a linear map, then $T^{\#}=0$, as 
	$T^{\#}\in\Hom_{\C[G]}(V,W)=\{0\}$ by the previous proposition and Schur's lemma.

\begin{theorem}[Ergodic theorem]
  Let $\rho\colon G\to\GL(V)$ and $\psi\colon G\to\GL(W)$ be irreducible representations. 
  If $T\colon V\to W$ is linear, then 
  $T^{\#}=(\dim V)^{-1}\trace(T)\id$.
\end{theorem}

\begin{proof}
  The previous proposition and Schur's lemma imply that
  $T^{\#}=\lambda\id$ for some $\lambda\in\C$.
  We now compute the trace of $T^{\#}$. On the one hand, 
  \[
	\trace(T^{\#})=\trace(\lambda\id)=(\dim V)\lambda.
  \]
  On the other hand.  
  \[
	\trace(T^{\#})
	=\frac{1}{|G|}\sum_{g\in G}\trace(\rho_{g^{-1}}T\rho_g)
	=\frac{1}{|G|}\sum_{g\in G}\trace(T)
	=\trace(T),
  \]
  as $\trace(ABA^{-1})=\trace(B)$ for all $A$ and $B$. 
  Hence 
  \[
  \trace(T^{\#})=(\dim V)^{-1}\trace(T)\id.\qedhere 
  \]
\end{proof}

We now prove Schur's orthogonality relations. We need some preliminary material. First recall that 
the matrix $E_{ij}$ is given by 
\[
(E_{ij})_{kl}=\delta_{ik}\delta_{jl},
\qquad
\delta_{xy}=\begin{cases}
    1 & \text{if $x=y$},\\
    0 & \text{otherwise}.
\end{cases}
\]
If $\rho\colon G\to\GL(V)\simeq\GL_n(\C)$ is a representation, then
$\rho_g$ is the matrix $(\rho_{ij}(g))$ and hence the character of $\rho$ is given by
\[
\chi_\rho(g)=\sum_{i=1}^n\rho_{ii}(g).
\]

\begin{lemma}
Let $\rho\colon G\to\GL(V)$ and $\psi\colon G\to\GL(W)$ be irreducible representations. Then
$(E_{ik}^\#)_{lj}=\langle\rho_{ij},\psi_{kl}\rangle$.
\end{lemma}

\begin{proof}
  We compute
  \begin{align*}
      (E_{ki}^\#)_{lj} &= \frac{1}{|G|}\sum_{g\in G}(\psi_{g^{-1}}E_{ki}\rho_g)_{lj}\\
      &=\frac{1}{|G|}\sum_{g\in G}\sum_{p,q}\psi_{lq}(g^{-1})(E_{ki})_{qp}(\rho_{ij}(g))_{pj}\\
      &=\frac{1}{|G|}\sum_{g\in G}\psi_{lk}(g^{-1})\rho_{ij}(g)\\
      &=\frac{1}{|G|}\sum_{g\in G}\overline{\psi_{kl}(g)}\rho_{ij}(g)=\langle \rho_{ij},\psi_{kl}\rangle.\qedhere
  \end{align*}
\end{proof}

\begin{theorem}[Schur]
    Let $\rho\colon G\to\GL(V)$ and $\psi\colon G\to\GL(W)$ be irreducible representations. 
    Then the following statements hold:
    \begin{enumerate}
        \item $\langle\rho_{ij},\psi_{kl}\rangle=0$ if $\rho$ and $\psi$ are not equivalent.
        \item $\displaystyle{\langle\rho_{ij},\rho_{kl}\rangle=\frac{1}{\dim V}\delta_{ik}\delta_{jl}}$.
    \end{enumerate}
\end{theorem}

\begin{proof}
    Let us prove the first claim. Since 
    $\rho$ and $\psi$ 
    are not equivalent, it follows from Schur's lemma that $\Hom_G(V,W)=\{0\}$.
    Thus $E_{ki}^\#\in\Hom_G(V,W)=\{0\}$ by the Ergodic theorem. 
    
    To prove the second claim, we use the previous lemma:
    \[
    (E_{ki}^\#)_{lj}=\langle\rho_{ij},\psi_{kl}\rangle
    =\frac{1}{\dim V}(\trace E_{ki})\delta_{lj}
    =\frac{1}{\dim V}\delta_{ki}\delta_{lj}.\qedhere
    \]
\end{proof}

Now we can prove Schur's first orthogonality relation.

\begin{theorem}[Schur]
Let $\rho\colon G\to\GL(V)$ and $\psi\colon G\to\GL(W)$ be irreducible representations. Then
\[
\langle\chi_\rho,\chi_\psi\rangle=
\begin{cases}
1 & \text{if $\rho\simeq\psi$,}\\
0 & \text{otherwise.}
\end{cases}
\]
\end{theorem}

\begin{proof}
    Let $n=\dim V$ and $m=\dim W$. We compute
    \begin{align*}
        \langle\chi_\rho,\chi_\psi\rangle
        &=\frac{1}{|G|}\sum_{g\in G}\chi_\rho(g)\overline{\chi_\psi}(g)\\
        %&=\frac{1}{|G|}\sum_{g\in G}\sum_{i=1}^n\sum_{j=1}^m\rho_{ii}(g)\overline{\psi_{jj}(g)}\\
        &=\sum_{1=1}^n\sum_{j=1}^m\frac{1}{|G|}\rho_{ii}(g)\overline{\psi_{jj}(g)}
        =\sum_{1=1}^n\sum_{j=1}^m\frac{1}{|G|}\langle \rho_{ii},\psi_{jj}\rangle
        =\begin{cases}
            1 & \text{if $\rho\simeq\psi$,}\\
            0 & \text{otherwise.}
        \end{cases}\qedhere
    \end{align*}
\end{proof}

Schur's theorem has several important corollaries.

If $\rho\colon G\to\GL(V)$ is an irreducible representaion of degree $n$, then
\[
\{\sqrt{n}\rho_{ij}:1\leq i,j\leq n\}
\]
is an orthonormal set.

% \begin{corollary}
%     If $\rho\colon G\to\GL(V)$ is an irreducible representaion of degree $n$, then
%     $\{\sqrt{n}\rho_{ij}:1\leq i,j\leq n\}$ is an orthonormal set.
% \end{corollary}

\begin{corollary}
    A finite group has finitely many classes of irreducible representations. 
\end{corollary}

\begin{proof}
    Let $G$ be a finite group. 
    Every isomorphism class of representations of $G$ contains a unitary representation. Since $\dim L(G)=|G|$, 
    it follows that $G$ admits $\leq|G|$ equivalence classes of irreducible representations. Let
    $\rho_1,\dots\rho_r$ be the representatives of the isomorphism classes of the 
    irreducible representations of $G$. For each $k$ let $n_k=\deg\rho_k$. Since
    the $n_1^2+\cdots n_r^2$ maps $\sqrt{n_k}(\rho_k)_{ij}$, $1\leq k\leq r$, $1\leq i,j\leq n_k$,
    form an orthonormal set of $L(G)$, it follows that
    $r\leq n_1^2+\cdots n_r^2\leq|G|$.
\end{proof}

Let $G$ be a finite group. Since $G$ has only finitely many non-equivalent 
irreducible representation, we will often say
that 
\[
\rho_1,\dots,\rho_r
\]
are \emph{the} irreducible representations of $G$, where it is assumed that
the $\rho_i$ form a complete set of 
representatives of irreducible representations of $G$. For each $i$ we write
$\chi_i=\chi_{\rho_i}$. The set of irreducible characters will be denoted
by 
\[
\Irr(G)=\{\chi_1,\dots,\chi_r\}.
\]

% If $G$ is a finite group, let $K(G)$ be the number of conjugacy classes of $G$. 
% We want to know how many irreducible representations are there. For that purpose, 
% we need to study the space of class functions. 

Recall that $L(G)=\{f\colon G\to\C\}$ is a vector space with
\[
    (f+g)(x)=f(x)+g(x),
    \quad
    \lambda f)(x)=\lambda f(x),
    \quad 
    f,g\in L(G),\,\lambda\in\C,\,x\in G.
\]
Let $C(G)$ be the subspace of class functions. 
We claim that $\dim C(G)=K(G)$, the number of conjugacy classes of $G$. If $C$ is a conjugacy class, 
then 
\[
\delta_C\colon G\to\C,\quad
\delta_C(x)=\begin{cases}
    1 & \text{if $x\in C$,}\\
    0 & \text{otherwise.}
\end{cases}
\]
is a class function. Let us prove that the 
set $\{\delta_C:C\text{ is a conjugacy class of $G$}\}$ is a basis of $C(G)$.  It is a generating set
because each $f$ can be written as 
\[
f=\sum_{C}f(C)\delta_C.
\]
The $\delta_C$ are linearly independent because they are orthogonal: 
If $C$ and $D$ 
are conjugacy classes of $G$, then 
\[
\langle\delta_C,\delta_D\rangle=\frac{1}{|G|}\sum_{x\in G}\delta_C(x)\overline{\delta_D(x)}
=\begin{cases}
|C|/|G| & \text{if $C=D$},\\
0 & \text{otherwise}.
\end{cases}
\]

\begin{corollary}
    Let $G$ be a finite group. There are at most $K(G)$ equivalence classes of irreducible representations of $G$.
\end{corollary}

\begin{proof}
    Non-equivalent representations have different characters. 
    Irreducible characters 
    form an orthonormal set, thus they are linearly 
    independent. Since irreducible characters
    are class functions, it follows that there are at most $K(G)$ irreducible different characters.  
\end{proof}

Let $m\in\Z_{>0}$. If $V$ is a vector space, we 
write $mV=V\oplus\cdots\oplus V$ ($m$-times). Similarly,
if $\rho$ is a representation, 
we write $m\rho=\rho\oplus\cdots\oplus\rho$ ($m$-times). 


\begin{theorem}
    Let $\rho_1,\dots,\rho_r$ be the irreducible representations of a finite group $G$. If 
	$\rho=\sum_{i_1}^rm_j\rho_j$ where $m_1,\dots m_r\in\Z_{\geq0}$, then
    $m_j=\langle \rho_\rho,\rho_j\rangle$ for all $j\in\{1,\dots,r\}$. 
\end{theorem}

\begin{proof}
    Write $\chi_\rho=\sum_{j=1}^rm_j\chi_j$. Then
    \[
    \langle\chi_\rho,\chi_i\rangle=\sum_{j=1}^r\langle\chi_j,\chi_i\rangle=m_i
    \]
    for all $i\in\{1,\dots,r\}$.
\end{proof}

The theorem states that the decomposition of a representation $\rho$ into irreducibles 
is unique and that it is determined (up to equivalence) by its character.

\begin{corollary}
    A representation $\rho$ is irreducible if and only if $\langle\chi_\rho,\chi_\rho\rangle=1$.
\end{corollary}

\begin{proof}
    We first decompose $\rho$ as a sum of irreducibles, say $\rho=\sum_{j=1}^rm_j\rho_j$ with $m_1,\dots,m_r\geq0$. Then
    $\langle\chi_\rho,\chi_\rho\rangle=\sum_{j=1}^rm_j^2$. Now $\langle\chi_\rho,\chi_\rho\rangle=1$ if and only if
    there is exactly one $j$ such that $m_j=1$ and $m_i=0$ for all $i\ne j$.  
\end{proof}

% As an example, the representation of $\Sym_3$ given by

\begin{exercise}
    Let $\rho\colon H\to\GL(V)$ be an irreducible
    representation of $H$ and 
    $f\colon G\to H$ be a surjective group homomorphism. Prove that the composition $\rho\circ f\colon G\to\GL(V)$ is an irreducible representation. 
\end{exercise}

% is not irreducible. as $\chi($

\begin{theorem}
    Let $G$ be a finite group and $L$ be its regular representation. 
    Then $L=\sum_{j=1}^rn_j\rho_j$, where $n_j=\deg\rho_j$. 
\end{theorem}

\begin{proof}
    Let $G=\{g_1,\dots,g_n\}$, $n=|G|$. If $g\in G$, since
    $L_g(g_i)=gg_i$ for all $i$, 
    the matrix of $L_g$ in the basis $\{g_1,\dots,g_n\}$ is then
    \begin{gather*}
    (L_g)_{ij}=\begin{cases}
        1 & \text{if $g_i=gg_j$},\\
        0 & \text{otherwise}.
    \end{cases}
    \shortintertext{Then}
    \chi_L(g)=\trace(L_g)=\sum_{i=1}^r(L_g)_{ii}=\begin{cases}
        |G| & \text{if $g=1$},\\
        0 & \text{otherwise}.
    \end{cases}
    \end{gather*}
    In particular, 
    \[
    \langle\chi_L,\chi_i\rangle=\frac{1}{|G|}\sum_{g\in G}\chi_L(g)\overline{\chi_i(g)}
    =\frac{1}{|G|}|G|\overline{\chi_i(1)}=n_i
    \]
    for all $i\in\{1,\dots,n\}$. 
\end{proof}

Now several corollaries. 

\begin{corollary}
    Let $G$ be a finite group and $\rho_1,\dots,\rho_r$ be the irreducible representations of $G$. 
    For each $k$ let $n_k=\deg\rho_k$. The following statements hold:
    \begin{enumerate}
        \item $|G|=n_1^2+\cdots+n_r^2$.
        \item $\{\sqrt{n_k}(\rho_k)_{ij}:1\leq k\leq r,\,1\leq i,j\leq n_k\}$
            is an orthonormal basis of $L(G)$. 
        \item $r$ is equal to the number of conjugacy classes of $G$. 
    \end{enumerate}
\end{corollary}

\begin{proof}
    Since $\chi_L=\sum_{j=1}^rn_j\chi_j$, the first claim follows. 
    The second claim follows from the orthogonality relations. Let us prove the third claim. Let $f\in C(G)$ and write $f$ 
    as a linear combination of the $(\rho_k)_{ij}$, say
    \[
    f=\sum_{i,j,k}\lambda_{ijk}(\rho_k)_{ij},\quad\lambda_{ijk}\in\C.
    \]
    If $x\in G$, then 
    \begin{align*}
    f(x)&=\frac{1}{|G|}\sum_{g\in G}f(g^{-1}xg)\\
    &=\frac{1}{|G|}\sum_{g\in G}\sum_{i,j,k}\lambda_{ijk}(\rho_k)_{ij}(g^{-1}xg)
    =\sum_{i,j,k}\lambda_{ijk} \frac{1}{|G|}\sum_{g\in G}(\rho_k)_{ij}(g^{-1}xg). 
    \end{align*}
    Let $T=(\rho_k)_x\colon V\to V$. Then
    \[
    T^{\#}=\frac{1}{|G|}\sum_{g\in G}(\rho_k)_{g^{-1}}(\rho_k)_x(\rho_k)_g
    =\frac{1}{|G|}\sum_{g\in G}(\rho_k)(g^{-1}xg)
    =\frac{1}{\dim V}\chi_k(x)\id
    \]
    by the Ergodic theorem and because 
    $\rho_k$ is a group homomorphism. Thus 
    \[
    f(x)=\sum_{i,j,k}\lambda_{ijk} \left((\rho_k)_x\right)_{ij}
    =\sum_{i,j,k}\lambda_{ijk}\frac{1}{\dim V}\chi_k(x)\delta_{ij}
    =\sum_{i,k}\lambda_{ijk}\frac{1}{n_k}\chi_k(x).\qedhere 
    \]
    This implies that $\dim C(G)\leq r$ and the claim follows. 
\end{proof}

In the following exercise, the reader is asked to provide a proof of the second 
Schur's orthogonality relation. 

\begin{exercise}
    Let $G$ be a finite group and 
    $C$ and $D$ be conjugacy classes of $G$. If $g\in C$ and $h\in D$, then
    \[
    \sum_{\chi\in\Irr(G)}\chi(g)\overline{\chi(h)}=
    \begin{cases}
    |G|/|C| & \text{if $C=D$},\\
    0 & \text{otherwise}.
    \end{cases}
    \]
\end{exercise}
